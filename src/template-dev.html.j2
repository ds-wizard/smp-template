{%- import "src/mapping/prepare-data.j2" as json with context -%}
{%- import "src/mapping/object.j2" as obj with context -%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JSON preview</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://rawgit.com/summerstyle/jsonTreeViewer/master/libs/jsonTree/jsonTree.css" rel="stylesheet" />
    <script src="https://rawgit.com/summerstyle/jsonTreeViewer/master/libs/jsonTree/jsonTree.js"></script>
  
    <style>
      body {margin:1em;}
      #wrapper li {list-style:none;}
    </style>
    <script>
      // Get json-data by javascript-object
      //var data = {{ json.obj|tojson }};
      var data = {{ obj.result|tojson }};
    </script>
  </head>
  <body>
    <h1>JSON Preview</h1>
    <hr>
    <div id="wrapper"></div>
  </body>
  <script>
    const wrapper = document.getElementById("wrapper");
    const tree = jsonTree.create(data, wrapper);
  </script>
</html>
